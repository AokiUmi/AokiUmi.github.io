<!DOCTYPE HTML>
<html>

<head>
	<link rel="bookmark"  type="image/x-icon"  href="img/love.jpg"/>
	<link rel="shortcut icon" href="img/love.jpg">
	
			    <title>
    Aoki_Umi
    </title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="/css/mic_main.css" />
    <link rel="stylesheet" href="/css/dropdownMenu.css" />
 <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <span id="busuanzi_container_site_pv">��վ�ܷ�����<span id="busuanzi_value_site_pv"></span>��</span>
    <meta name="keywords" content="Aoki_Umi" />
    
    	<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	 
    <noscript>
        <link rel="stylesheet" href="/css/noscript.css" />
    </noscript>
    <style type="text/css">
        body:before {
          content: ' ';
          position: fixed;
          top: 0;
          background: url('/img/bg.jpg') center 0 no-repeat;
          right: 0;
          bottom: 0;
          left: 0;
          background-size: cover; 
        }
    </style>

			    
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script async type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.scrollex.min.js"></script>
    <script src="/js/jquery.scrolly.min.js"></script>
    <script src="/js/skel.min.js"></script>
    <script src="/js/util.js"></script>
    <script src="/js/main.js"></script>
	
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
<link rel="alternate" href="atom.xml" title="Aoki_Umi" type="application/atom+xml">
</head>
    
		
<!-- Layouts -->



<!--  代码渲染  -->
<script>hljs.initHighlightingOnLoad();</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/go.min.js"></script>
<link rel="stylesheet" href="/css/prism_coy.css" />
<link rel="stylesheet" href="/css/typo.css" />
<!-- 文章页 -->
<body class="is-loading">
    <!-- Wrapper 外包 s-->
    <div id="wrapper" class="fade-in">
        <!-- Intro 头部显示 s -->
        <!-- Intro 头部显示 e -->
        <!-- Header 头部logo start -->
        <header id="header">
    <a href="/" class="logo">AOKI_UMI</a>
</header>
        <!-- Nav 导航条 start -->
        <nav id="nav" class="special" >
            <ul class="menu links" >
			<!-- Homepage  主页  --> 
			<li >
	            <a href="/" rel="nofollow">HOME</a>
	        </li>
			<!-- categories_name  分类   --> 
	        
	        <li class="active">
	            <a href="#s1">CATEGORIES</a>
	                    <ul class="submenu">
	                        <li>
	                        <a class="category-link" href="../categories/CS/">CS</a></li><li><a class="category-link" href="../categories/CS/ALGORITHM/">ALGORITHM</a></li><li><a class="category-link" href="../categories/CS/ASSEMBLY-LANGUAGE/">ASSEMBLY_LANGUAGE</a></li><li><a class="category-link" href="../categories/CS/C-C/">C&C++</a></li><li><a class="category-link" href="../categories/CS/CA/">CA</a></li><li><a class="category-link" href="../categories/CS/PYTHON/">PYTHON</a></li><li><a class="category-link" href="../categories/CS/SIGNAL-PROCESSING/">SIGNAL_PROCESSING</a></li><li><a class="category-link" href="../categories/OI/">OI</a></li><li><a class="category-link" href="../categories/OI/ALGORITHM/">ALGORITHM</a></li><li><a class="category-link" href="../categories/OI/Algorithm/">Algorithm</a></li><li><a class="category-link" href="../categories/OI/Algorithm/Tree/">Tree</a></li><li><a class="category-link" href="../categories/OI/Character-String/">Character String</a></li><li><a class="category-link" href="../categories/OI/Congratulation/">Congratulation</a></li><li><a class="category-link" href="../categories/OI/Contest/">Contest</a></li><li><a class="category-link" href="../categories/OI/DATA-STRUCTURE/">DATA STRUCTURE</a></li><li><a class="category-link" href="../categories/OI/DP/">DP</a></li><li><a class="category-link" href="../categories/OI/GRAPH-THERY/">GRAPH THERY</a></li><li><a class="category-link" href="../categories/OI/Graph-Theory/">Graph Theory</a></li><li><a class="category-link" href="../categories/OI/Maths/">Maths</a></li><li><a class="category-link" href="../categories/OI/Search/">Search</a></li><li><a class="category-link" href="../categories/OI/Simulation/">Simulation</a></li><li><a class="category-link" href="../categories/STUDY/">STUDY</a>
	                    </ul>
	        </li>
	        
	        <!-- archives  归档   --> 
	        
	        <li class="active">
	            <a href="#s1">ARCHIVES</a>
	                    <ul class="submenu">
	                        <li>
	                        <a class="archive-link" href="../archives/2022/06/">June 2022</a></li><li><a class="archive-link" href="../archives/2022/01/">January 2022</a></li><li><a class="archive-link" href="../archives/2021/11/">November 2021</a></li><li><a class="archive-link" href="../archives/2021/04/">April 2021</a></li><li><a class="archive-link" href="../archives/2021/01/">January 2021</a></li><li><a class="archive-link" href="../archives/2020/11/">November 2020</a></li><li><a class="archive-link" href="../archives/2020/10/">October 2020</a></li><li><a class="archive-link" href="../archives/2020/08/">August 2020</a></li><li><a class="archive-link" href="../archives/2020/06/">June 2020</a></li><li><a class="archive-link" href="../archives/2020/05/">May 2020</a></li><li><a class="archive-link" href="../archives/2020/04/">April 2020</a></li><li><a class="archive-link" href="../archives/2020/02/">February 2020</a></li><li><a class="archive-link" href="../archives/2018/11/">November 2018</a></li><li><a class="archive-link" href="../archives/2018/10/">October 2018</a></li><li><a class="archive-link" href="../archives/2018/09/">September 2018</a></li><li><a class="archive-link" href="../archives/2018/08/">August 2018</a></li><li><a class="archive-link" href="../archives/2018/07/">July 2018</a></li><li><a class="archive-link" href="../archives/2018/05/">May 2018</a></li><li><a class="archive-link" href="../archives/2018/04/">April 2018</a></li><li><a class="archive-link" href="../archives/2018/03/">March 2018</a></li><li><a class="archive-link" href="../archives/2018/01/">January 2018</a></li><li><a class="archive-link" href="../archives/1924/07/">July 1924</a>
	                    </ul>
	        </li>
	        
	        
		        <!-- Pages 自定义   -->
		        
		        <li>
		            <a href="/about/" title="ABOUT">
		                ABOUT
		            </a>
		        </li>
		        
		        <li>
		            <a href="/group/" title="FRIENDS">
		                FRIENDS
		            </a>
		        </li>
		        
		        <li>
		            <a href="/gallery/" title="GALLERY">
		                GALLERY
		            </a>
		        </li>
		        
		        <li>
		            <a href="/tag/" title="TAG">
		                TAG
		            </a>
		        </li>
		        


            </ul>
            <!-- icons 图标   -->
			<ul class="icons">
                    
                    <li>
                        <a title="github" href="https://github.com/AokiUmi" target="_blank" rel="noopener">
                            <i class="icon fa fa-github"></i>
                        </a>
                    </li>
                    
                    <li>
                        <a title="500px" href="http://500px.com" target="_blank" rel="noopener">
                            <i class="icon fa fa-500px"></i>
                        </a>
                    </li>
                    
			</ul>
</nav>

        <div id="main" >
            <div class ="post_page_title_img" style="height: 25rem;background-image: url(/images/0035.jpg);background-position: center; background-repeat:no-repeat; background-size:cover;-moz-background-size:cover;overflow:hidden;" >
                <a href="#" style="padding: 4rem 4rem 2rem 4rem ;"><h2 >CA期末总结</h2></a>
         
            </div>
            <!-- Post -->
            <div class="typo" style="padding: 3rem;">

                <h1 id="Lecture1-Introduction"><a href="#Lecture1-Introduction" class="headerlink" title="Lecture1: Introduction"></a>Lecture1: Introduction</h1><p>• Thinking about Machine Structures</p>
<p>• Great Ideas in Computer Architecture</p>
<p>• What you need to know about this class</p>
<p>• Everything is a Number</p>
<h1 id="Lecture-2-C-I"><a href="#Lecture-2-C-I" class="headerlink" title="Lecture 2: C I"></a>Lecture 2: C I</h1><p>• Compile vs. Interpret 不同进制数字表示法</p>
<ul>
<li><p>二进制的表示方法：1.Unsigned Integers 2.Two’s-Complement 二补数（取反+1）3. One’s-Complement 一补数（直接取反）4. Sign Magnitude 只有最高位表示符号</p>
</li>
<li><p>CPP Macro 宏定义 <code>#define MAG(x, y) (sqrt( (x)*(x) + (y)*(y)))</code> 要加很多括号不然就会有问题</p>
</li>
</ul>
<h1 id="Lecture-3-C-II"><a href="#Lecture-3-C-II" class="headerlink" title="Lecture 3: C II"></a>Lecture 3: C II</h1><p>• Pointers</p>
<p>• Pointers &amp; Arrays</p>
<p>• C Memory Management</p>
<p>• C Bugs</p>
<p> 指针的分类</p>
<ul>
<li>空指针 指针的值为NULL或0的指针</li>
<li>空悬指针  指向的空间已被释放</li>
<li>野指针  指针未被初始化(赋值)</li>
</ul>
<h3 id="C内存管理"><a href="#C内存管理" class="headerlink" title="C内存管理"></a>C内存管理</h3><p>静态内存、动态内存<br>静态内存分配好后，程序运行过程中一直存在不会被释放，且一旦分配好，其内存大小就固定下来不能改变，在编译和链接的阶段就会分配好。<br>动态内存是程序运行过程中，根据程序的需要分配和释放，其大小可变。</p>
<p>2 堆与栈<br>堆是程序通过调用malloc或new分配，调用free或delete释放。 栈是线性结构，堆是链表结构。</p>
<p>3 C的内存分配<br>全局变量和static修饰的静态变量都存放在静态内存区<br>函数内部定义的局部变量，存储在栈上，函数退出时，其占用内存被收回。<br>调用malloc或new得到的内存在堆上，不再需要时要显示的调用free或delete来释放，否则会造成内存泄漏</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//全局初始化区 ，static</span>
<span class="token keyword">char</span> <span class="token operator">*</span>p1<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//全局未初始化区 , static</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span> 
<span class="token keyword">int</span> b<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//stack</span>
<span class="token keyword">char</span> s<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"abc"</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//stack</span>
<span class="token keyword">char</span> <span class="token operator">*</span>p2<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//stack</span>
<span class="token keyword">char</span> <span class="token operator">*</span>p3 <span class="token operator">=</span> <span class="token string">"123456"</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//"123456\0"在static，静态内存，p3在栈上。 </span>
p3<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span><span class="token operator">></span><span class="token keyword">static</span> 
<span class="token keyword">static</span> <span class="token keyword">int</span> c <span class="token operator">=</span><span class="token number">0</span>； <span class="token comment" spellcheck="true">//全局（静态）初始化区 static</span>
p1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// heap</span>
p2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//heap</span>
<span class="token operator">&amp;</span>p2 <span class="token operator">-</span><span class="token operator">></span> stack 
<span class="token function">strcpy</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> <span class="token string">"123456"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//"123456\0"放在常量区，编译器可能会将它与p3所指向的"123456"优化成一个地方。 </span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="Lecture-4-RISC-V-I"><a href="#Lecture-4-RISC-V-I" class="headerlink" title="Lecture 4: RISC-V I"></a>Lecture 4: RISC-V I</h1><h3 id="Big-Endian-vs-Little-Endian"><a href="#Big-Endian-vs-Little-Endian" class="headerlink" title="Big Endian vs. Little Endian"></a>Big Endian vs. Little Endian</h3><p><img src="/2022/06/13/CA期末总结/2.png" alt=""></p>
<h1 id="Lecture-5-RISC-V-II-III-IV"><a href="#Lecture-5-RISC-V-II-III-IV" class="headerlink" title="Lecture 5: RISC-V II III IV"></a>Lecture 5: RISC-V II III IV</h1><p>introduce how to write risc-v 具体看绿卡就行</p>
<p><img src="/2022/06/13/CA期末总结/3.png" alt=""></p>
<h1 id="Lecture-8-RISC-V-V"><a href="#Lecture-8-RISC-V-V" class="headerlink" title="Lecture 8: RISC-V V"></a>Lecture 8: RISC-V V</h1><p>浮点数表示法</p>
<p><a href="http://www.speedfly.cn/tools/hexconvert/" target="_blank" rel="noopener">在线进制转换-IEE754浮点数16进制转换</a></p>
<p><img src="/2022/06/13/CA期末总结/4.png" alt=""></p>
<h1 id="Lecture-9-Call"><a href="#Lecture-9-Call" class="headerlink" title="Lecture 9: Call"></a>Lecture 9: Call</h1><h4 id="Interpretation"><a href="#Interpretation" class="headerlink" title="Interpretation"></a>Interpretation</h4><p>• Python interpreter is just a program that reads a</p>
<p>python program and performs the functions of</p>
<p>that python program.</p>
<ul>
<li>Interpretation vs. Translation</li>
</ul>
<p><img src="/2022/06/13/CA期末总结/42.png" title="" alt="" data-align="inline"></p>
<h2 id="Compiler"><a href="#Compiler" class="headerlink" title="Compiler"></a>Compiler</h2><p>Input: High-Level Language Code</p>
<p>Output: Assembly Language Code</p>
<p>Pseudo-instructions: instructions that assembler understands but not in machine</p>
<p><img src="/2022/06/13/CA期末总结/43.png" alt=""></p>
<h2 id="Assembler"><a href="#Assembler" class="headerlink" title="Assembler"></a>Assembler</h2><p>Input: Assembly Language Code</p>
<p>Output: Object Code, information tables</p>
<p>Reads and Uses Directives</p>
<ul>
<li><p>Replace Pseudo-instructions</p>
</li>
<li><p>Produce Machine Language</p>
</li>
<li><p>Creates Object File</p>
</li>
</ul>
<p>Assembler Directives</p>
<p>• Give directions to assembler, but do not produce machine instructions</p>
<h3 id="Producing-Machine-Language"><a href="#Producing-Machine-Language" class="headerlink" title="Producing Machine Language"></a>Producing Machine Language</h3><p>• Simple Case</p>
<p>• What about Branches?</p>
<p>– PC-Relative (e.g., beq/bne and jal)</p>
<p>– So once pseudo-instructions are replaced by real ones, we know by how many instructions to branch</p>
<p>• “Forward Reference” problem ：Solved by taking two passes over the program</p>
<ul>
<li><p>First pass remembers position of labels</p>
</li>
<li><p>Second pass uses label positions to generate code</p>
</li>
</ul>
<h3 id="Symbol-Table"><a href="#Symbol-Table" class="headerlink" title="Symbol Table"></a>Symbol Table</h3><p>List of “items” in this file that may be used by</p>
<p>other files</p>
<p>– Labels: function calling</p>
<p>– Data: anything in the .data section; variables which may be accessed across files</p>
<h3 id="Relocation-Table"><a href="#Relocation-Table" class="headerlink" title="Relocation Table"></a>Relocation Table</h3><p>• List of “items” whose address this file needs</p>
<p><img src="/2022/06/13/CA期末总结/44.png" alt=""></p>
<h3 id="Assembly-Step"><a href="#Assembly-Step" class="headerlink" title="Assembly Step :"></a>Assembly Step :</h3><ul>
<li><p>Instructions and Labels have addresses</p>
</li>
<li><p>Create relocation table and symbol table</p>
</li>
<li><p>Generate object (.o) file,Output binary representation for</p>
<p>• text segment (instructions)</p>
<p>• data segment (data)</p>
<p>• symbol and relocation tables</p>
</li>
</ul>
<h2 id="Linker"><a href="#Linker" class="headerlink" title="Linker"></a>Linker</h2><p>• Input: Object code files, information tables</p>
<p>• Output: Executable code</p>
<p>• Combines several object (.o) files into a single executable (“linking”)</p>
<p>• Enable separate compilation of files</p>
<p>– Changes to one file do not require recompilation of the whole program</p>
<p>• Linux source &gt; 20 M lines of code!</p>
<p>– Old name “Link Editor” from editing the “links” in jump and link instructions</p>
<p><img src="/2022/06/13/CA期末总结/45.png" alt=""></p>
<p><img src="/2022/06/13/CA期末总结/46.png" alt=""></p>
<p>• To resolve references:</p>
<p>– search for reference (data or label) in all “user” symbol tables</p>
<p>– if not found, search library files</p>
<p>– once absolute address is determined, fill in the machine code appropriately</p>
<h2 id="Loader"><a href="#Loader" class="headerlink" title="Loader"></a>Loader</h2><p>• Input: Executable Code</p>
<p>• Output: (program is run)</p>
<p>• Executable files are stored on disk</p>
<p>• When one is run, loader’s job is to load it into</p>
<p>memory and start it running</p>
<p>• In reality, loader is the operating system (OS)</p>
<p>– loading is one of the OS tasks</p>
<p><img src="/2022/06/13/CA期末总结/47.png" alt=""></p>
<h3 id="Static-vs-Dynamically-linked-libraries"><a href="#Static-vs-Dynamically-linked-libraries" class="headerlink" title="Static vs Dynamically linked libraries"></a>Static vs Dynamically linked libraries</h3><p><img src="/2022/06/13/CA期末总结/48.png" alt=""></p>
<h2 id="Some-steps-for-each-stages"><a href="#Some-steps-for-each-stages" class="headerlink" title="Some steps for each stages"></a>Some steps for each stages</h2><h3 id="Compiler-1"><a href="#Compiler-1" class="headerlink" title="Compiler"></a>Compiler</h3><ol>
<li><p>Uses Lexers to process the input into tokens.</p>
</li>
<li><p>Be responsible for loop unrolling</p>
</li>
<li><p>Produce an executable binary from a collection of <strong>C source files</strong></p>
</li>
<li><p>Checks if there are any syntax errors in the C source files.</p>
</li>
<li><p>Resolve #include directives.</p>
</li>
</ol>
<h3 id="Assembler-1"><a href="#Assembler-1" class="headerlink" title="Assembler"></a>Assembler</h3><ol>
<li><p>Prepares the relocation table.</p>
</li>
<li><p>Produce an executable binary from a collection of C source files.</p>
</li>
<li><p>Translate symbolic register name to integer register name.</p>
</li>
</ol>
<h3 id="Linker-1"><a href="#Linker-1" class="headerlink" title="Linker"></a>Linker</h3><ol>
<li><p>Prepares the virtual address space for the static section.</p>
</li>
<li><p>Fills in the final value for the immediate in jump instructions. Note that the label<br>we are jumping to exists in a different file than the jump instruction.</p>
</li>
<li><p>Incorporates statically-linked libraries.</p>
</li>
<li><p>Produces <strong>executable file</strong>containing text and data (plus header).</p>
</li>
<li><p>Produce an <strong><em>executable binary</em></strong> from a collection of C source files.</p>
</li>
<li><p>Relocation</p>
</li>
</ol>
<h3 id="Loader-1"><a href="#Loader-1" class="headerlink" title="Loader"></a>Loader</h3><ol>
<li><p>Copies instructions and data from executable file into the address space.</p>
</li>
<li><p>Runtime symbol resolution</p>
</li>
</ol>
<h1 id="Lecture-10-SDS"><a href="#Lecture-10-SDS" class="headerlink" title="Lecture 10: SDS"></a>Lecture 10: SDS</h1><ul>
<li>CMOS</li>
</ul>
<p><img src="/2022/06/13/CA期末总结/5.png" alt=""></p>
<p><img src="/2022/06/13/CA期末总结/6.png" alt=""></p>
<p><img src="/2022/06/13/CA期末总结/7.png" alt=""></p>
<h2 id="逻辑电路化简公式"><a href="#逻辑电路化简公式" class="headerlink" title="逻辑电路化简公式"></a>逻辑电路化简公式</h2><p><a href="https://blog.csdn.net/qq_41361526/article/details/107770713" target="_blank" rel="noopener">数字电路 化简</a></p>
<p>并项法： AB + AB’ = A<br>两项合并为一项，消去B与B’</p>
<p>吸收法： A + AB = A<br>短项吸收长项</p>
<p>消项法： AB+ A’C + BC =AB + A’C<br>可拓展为：<br>AB+ A’C + BCD =AB + A’C</p>
<p>消因子法：A + A’B = A + B<br>短项能够消去 长项中 的 相反项<br>此处也能这样理解：A看作A*(1+B), 即A+AB+A’B</p>
<p>配项法： 基本公式 A + A = A<br>可以在逻辑函数中重复写入某一项，或如下图过程中所示，乘上(A+A’)</p>
<p><img src="/2022/06/13/CA期末总结/10.png" alt=""></p>
<p><img src="/2022/06/13/CA期末总结/11.png" alt=""></p>
<h1 id="Lecture-11-FSM"><a href="#Lecture-11-FSM" class="headerlink" title="Lecture 11: FSM"></a>Lecture 11: FSM</h1><p>SDS相关计算</p>
<p><img src="file:///D:/Blog/source/_posts/CA期末总结/8.png" title="" alt="" data-align="right"></p>
<p><img src="/2022/06/13/CA期末总结/9.png" alt=""></p>
<p>min clk period= clk-to-q delay + max CL delay +set up time</p>
<p>longest set up time = min (clk period - input delay) (包括寄存器clk delay) 算从输入到寄存器的delay</p>
<p>longest hold time = min output delay (包括寄存器clk delay，从输出口子到output的delay）</p>
<p>clk-q + best case CL delay &lt; hold time</p>
<h1 id="Lecture-12-CPU-Control-amp-Datapath"><a href="#Lecture-12-CPU-Control-amp-Datapath" class="headerlink" title="Lecture 12 : CPU Control &amp; Datapath"></a>Lecture 12 : CPU Control &amp; Datapath</h1><p><img src="/2022/06/13/CA期末总结/12.png" alt=""></p>
<p>Complete Datapath</p>
<p><img src="/2022/06/13/CA期末总结/13.png" alt=""></p>
<p><img src="/2022/06/13/CA期末总结/14.png" alt=""></p>
<h1 id="Lecture-12-Pipelining"><a href="#Lecture-12-Pipelining" class="headerlink" title="Lecture 12: Pipelining"></a>Lecture 12: Pipelining</h1><p>• Pipelining</p>
<p>• Hazards</p>
<p>– Structural</p>
<p>– Data</p>
<p>• R-type instructions</p>
<p>• Load</p>
<p>– Control</p>
<h3 id="Single-Cycle-Performance-without-pipeline-t-clk-t-pc-clk-q-t-IMEMread-t-RF-read-t-mux-t-ALU-t-DMEMread-t-mux-t-RFsetup"><a href="#Single-Cycle-Performance-without-pipeline-t-clk-t-pc-clk-q-t-IMEMread-t-RF-read-t-mux-t-ALU-t-DMEMread-t-mux-t-RFsetup" class="headerlink" title="Single Cycle Performance without pipeline: $t_{clk}=t_{pc-clk-q}+t_{IMEMread}+t_{RF read}+t_{mux}+t_{ALU}+t_{DMEMread}+t_{mux}+t_{RFsetup}$"></a>Single Cycle Performance without pipeline: $t_{clk}=t_{pc-clk-q}+t_{IMEMread}+t_{RF read}+t_{mux}+t_{ALU}+t_{DMEMread}+t_{mux}+t_{RFsetup}$</h3><h3 id="how-to-speed-up-of-5-through-pipelining"><a href="#how-to-speed-up-of-5-through-pipelining" class="headerlink" title="how to speed up of 5 through pipelining:"></a>how to speed up of 5 through pipelining:</h3><ol>
<li><p>No hazards</p>
</li>
<li><p>No pipeline register delay</p>
</li>
<li><p>All pipeline stages have equal delay</p>
</li>
</ol>
<h3 id="5-stages-pipelining"><a href="#5-stages-pipelining" class="headerlink" title="5 stages pipelining"></a>5 stages pipelining</h3><p>IF : $t_{clk-q}+t_{MEMread}+t_{Regsetup}$</p>
<p>ID：$t_{clk-q}+t_{RFread}+t_{Regsetup}$</p>
<p>EX：$t_{clk-q}+t_{mux}+t_{ALU}+t_{Regsetup}+t_{mux}$</p>
<p>MEM：$t_{Regclk-q}+t_{MEMread}+t_{mux}+t_{Regsetup}$</p>
<p>WB：$t_{Regclk-q}+t_{RFsetup}$</p>
<p><img src="/2022/06/13/CA期末总结/16.png" alt=""></p>
<p><img src="/2022/06/13/CA期末总结/17.png" alt=""></p>
<p>Structural hazards occur when more than one instruction needs to use the same datapath resource at the same time. Structural hazards can always be resolved by adding more hardware.</p>
<h3 id="Data-Hazard-solution"><a href="#Data-Hazard-solution" class="headerlink" title="Data Hazard solution"></a>Data Hazard solution</h3><ul>
<li><p>stalling</p>
</li>
<li><p>forwarding</p>
</li>
</ul>
<h3 id="Control-Hazards-solution"><a href="#Control-Hazards-solution" class="headerlink" title="Control Hazards solution"></a>Control Hazards solution</h3><ul>
<li>prediction</li>
</ul>
<h1 id="Lecture-13-Superscalar"><a href="#Lecture-13-Superscalar" class="headerlink" title="Lecture 13: Superscalar"></a>Lecture 13: Superscalar</h1><p>• Processor Performance - Overview</p>
<p>• Complex Pipelines</p>
<p>• Static Multiple Issues (VLIW)</p>
<p>• Dynamic Multiple Issues (Superscalar)</p>
<h3 id="“Iron-Law”-of-Processor"><a href="#“Iron-Law”-of-Processor" class="headerlink" title="“Iron Law” of Processor"></a>“Iron Law” of Processor</h3><p>cpi </p>
<p><img src="/2022/06/13/CA期末总结/18.png" alt=""></p>
<p>Static Multiple Issue</p>
<p>• aka.: Very Long Instruction Word (VLIW)</p>
<p>• Compiler bundles instructions together</p>
<p>• Compiler takes care of hazards</p>
<p>• CPU executes at the same time</p>
<p><img src="/2022/06/13/CA期末总结/19.png" alt=""></p>
<p>fetch buffer between 1 and 2</p>
<h1 id="Lecture-14-16-Caches-Part-I"><a href="#Lecture-14-16-Caches-Part-I" class="headerlink" title="Lecture 14-16: Caches Part I"></a>Lecture 14-16: Caches Part I</h1><p>Cache Lecture I</p>
<p>– Caches Introduction</p>
<p>– Principle of Locality</p>
<p>• Temporal Locality (locality in time)</p>
<p>– If a memory location is referenced, then it will</p>
<p>tend to be referenced again soon</p>
<p>• Spatial Locality (locality in space)</p>
<p>– If a memory location is referenced, the locations</p>
<p>with nearby addresses will tend to be referenced soon</p>
<p><img src="/2022/06/13/CA期末总结/20.png" alt=""></p>
<p>– Simple Cache</p>
<p><img src="/2022/06/13/CA期末总结/21.png" alt=""></p>
<p>– Direct Mapped &amp; Set-Associative Caches</p>
<p>• Cache Lecture II</p>
<p>– Stores to Caches</p>
<p>– Cache Performance</p>
<p>– Cache Misses</p>
<p><img src="/2022/06/13/CA期末总结/22.png" alt=""></p>
<p>– Cache Configurations</p>
<p>– Cache Examples</p>
<h4 id="increase-associativity"><a href="#increase-associativity" class="headerlink" title="increase associativity"></a>increase associativity</h4><ul>
<li><p>hit time increase</p>
</li>
<li><p>miss rate decrease</p>
</li>
<li><p>miss penalty unchange</p>
</li>
</ul>
<h4 id="increase-entries"><a href="#increase-entries" class="headerlink" title="increase entries"></a>increase entries</h4><ul>
<li><p>hit time increase</p>
</li>
<li><p>miss rate decrease</p>
</li>
<li><p>miss penalty unchange</p>
</li>
</ul>
<h4 id="increase-block-size"><a href="#increase-block-size" class="headerlink" title="increase block size"></a>increase block size</h4><ul>
<li><p>hit time unchange</p>
</li>
<li><p>miss rate decrease</p>
</li>
<li><p>miss penalty increase</p>
</li>
</ul>
<p><img src="/2022/06/13/CA期末总结/23.png" alt=""></p>
<p>矩阵乘法 最快的循环时jki</p>
<h1 id="Lecture-19-DLP"><a href="#Lecture-19-DLP" class="headerlink" title="Lecture 19: DLP"></a>Lecture 19: DLP</h1><h2 id="Flynn-Taxonomy"><a href="#Flynn-Taxonomy" class="headerlink" title="Flynn* Taxonomy"></a>Flynn* Taxonomy</h2><ul>
<li><p>Single-Instruction/Single-Data Stream(SISD)</p>
</li>
<li><p>Single-Instruction/Multiple-Data Stream(SIMD or “sim-dee”)</p>
</li>
<li><p>Multiple-Instruction/Multiple-Data Streams(MIMD or “mim-dee”)</p>
</li>
<li><p>Multiple-Instruction/Single-Data Stream(MISD)</p>
</li>
</ul>
<p><img src="/2022/06/13/CA期末总结/24.png" alt=""></p>
<p>SIMD simplify in LAB</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">sum_naive</span><span class="token punctuation">(</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>a <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span>
        sum <span class="token operator">+</span><span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">sum_unrolled</span><span class="token punctuation">(</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>a <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/* do the body of the work in a faster unrolled loop */</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token operator">/</span><span class="token number">4</span><span class="token operator">*</span><span class="token number">4</span><span class="token punctuation">;</span> i <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">4</span> <span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        sum <span class="token operator">+</span><span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        sum <span class="token operator">+</span><span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        sum <span class="token operator">+</span><span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        sum <span class="token operator">+</span><span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/* handle the small tail in a usual way */</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span> <span class="token keyword">int</span> i <span class="token operator">=</span> n<span class="token operator">/</span><span class="token number">4</span><span class="token operator">*</span><span class="token number">4</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span>   
        sum <span class="token operator">+</span><span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">sum_vectorized</span><span class="token punctuation">(</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>a <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    __m128i tp<span class="token operator">=</span><span class="token function">_mm_setzero_si128</span><span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token operator">/</span><span class="token number">4</span><span class="token operator">*</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">+</span><span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        tp<span class="token operator">=</span><span class="token function">_mm_add_epi32</span><span class="token punctuation">(</span>tp<span class="token punctuation">,</span><span class="token function">_mm_loadu_si128</span><span class="token punctuation">(</span><span class="token punctuation">(</span>__m128i <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">(</span>a<span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> z<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>ans<span class="token punctuation">;</span>
    <span class="token function">_mm_storeu_si128</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>__m128i <span class="token operator">*</span><span class="token punctuation">)</span>z<span class="token punctuation">,</span>  tp <span class="token punctuation">)</span><span class="token punctuation">;</span>
    ans<span class="token operator">=</span>z<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span>z<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span>z<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">+</span>z<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>n<span class="token operator">/</span><span class="token number">4</span><span class="token operator">*</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        ans<span class="token operator">+</span><span class="token operator">=</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> ans<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">sum_vectorized_unrolled</span><span class="token punctuation">(</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>a <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    __m128i tp<span class="token operator">=</span><span class="token function">_mm_setzero_si128</span><span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token operator">/</span><span class="token number">16</span><span class="token operator">*</span><span class="token number">16</span><span class="token punctuation">;</span>i<span class="token operator">+</span><span class="token operator">=</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        tp<span class="token operator">=</span><span class="token function">_mm_add_epi32</span><span class="token punctuation">(</span>tp<span class="token punctuation">,</span><span class="token function">_mm_loadu_si128</span><span class="token punctuation">(</span><span class="token punctuation">(</span>__m128i <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">(</span>a<span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        tp<span class="token operator">=</span><span class="token function">_mm_add_epi32</span><span class="token punctuation">(</span>tp<span class="token punctuation">,</span><span class="token function">_mm_loadu_si128</span><span class="token punctuation">(</span><span class="token punctuation">(</span>__m128i <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">(</span>a<span class="token operator">+</span>i<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        tp<span class="token operator">=</span><span class="token function">_mm_add_epi32</span><span class="token punctuation">(</span>tp<span class="token punctuation">,</span><span class="token function">_mm_loadu_si128</span><span class="token punctuation">(</span><span class="token punctuation">(</span>__m128i <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">(</span>a<span class="token operator">+</span>i<span class="token operator">+</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        tp<span class="token operator">=</span><span class="token function">_mm_add_epi32</span><span class="token punctuation">(</span>tp<span class="token punctuation">,</span><span class="token function">_mm_loadu_si128</span><span class="token punctuation">(</span><span class="token punctuation">(</span>__m128i <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">(</span>a<span class="token operator">+</span>i<span class="token operator">+</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> z<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>ans<span class="token punctuation">;</span>
    <span class="token function">_mm_storeu_si128</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>__m128i <span class="token operator">*</span><span class="token punctuation">)</span>z<span class="token punctuation">,</span>  tp <span class="token punctuation">)</span><span class="token punctuation">;</span>
    ans<span class="token operator">=</span>z<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span>z<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span>z<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">+</span>z<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>n<span class="token operator">/</span><span class="token number">16</span><span class="token operator">*</span><span class="token number">16</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        ans<span class="token operator">+</span><span class="token operator">=</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>


    <span class="token keyword">return</span> ans<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Amdahl’s-Law"><a href="#Amdahl’s-Law" class="headerlink" title="Amdahl’s Law"></a>Amdahl’s Law</h3><p><img src="/2022/06/13/CA期末总结/25.png" alt=""></p>
<ul>
<li>Loop Unrolled</li>
</ul>
<p>• Amdahl’s Law: Serial sections limit speedup</p>
<p>• Flynn Taxonomy</p>
<p>• Intel SSE SIMD Instructions</p>
<p>– Exploit data-level parallelism in loops</p>
<p>– One instruction fetch that operates on multiple</p>
<p>operands simultaneously</p>
<p>– 128-bit XMM registers</p>
<p>• SSE Instructions in C</p>
<p>– Embed the SSE machine instructions directly into C</p>
<p>programs through use of intrinsics</p>
<p>– Achieve efficiency beyond that of optimizing compiler</p>
<h1 id="Lecture-20-TLP-Thread-Level-Parallelism"><a href="#Lecture-20-TLP-Thread-Level-Parallelism" class="headerlink" title="Lecture 20: TLP Thread-Level Parallelism"></a>Lecture 20: TLP Thread-Level Parallelism</h1><ul>
<li><p>Hardware Multithreading</p>
</li>
<li><p>Operating System Threads</p>
</li>
<li><p>Hyper-threading (simplified)</p>
</li>
<li><p>OpenMP</p>
</li>
</ul>
<p><a href="https://cloud.tencent.com/developer/article/1949206" target="_blank" rel="noopener">【OpenMP学习笔记】</a></p>
<p><img src="/2022/06/13/CA期末总结/26.png" alt=""></p>
<p><img src="/2022/06/13/CA期末总结/27.png" alt=""></p>
<ul>
<li><p>OpenMP problem data race</p>
</li>
<li><p>OpenMP lock (too slow)</p>
</li>
</ul>
<p>OpenMP for loop divides index regions sequentially per thread in default.<br>For potential spatial locality and cache optimization.</p>
<p>OpenMP in lab</p>
<pre class="line-numbers language-c"><code class="language-c"><span class="token comment" spellcheck="true">// EDIT THIS FUNCTION PART 1</span>
<span class="token keyword">double</span> <span class="token function">dotp_manual_optimized</span> <span class="token punctuation">(</span><span class="token keyword">double</span> <span class="token operator">*</span>x<span class="token punctuation">,</span> <span class="token keyword">double</span> <span class="token operator">*</span>y<span class="token punctuation">,</span> <span class="token keyword">int</span> arr_size<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword">double</span> global_sum <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>
  <span class="token macro property">#<span class="token directive keyword">pragma</span> omp parallel</span>
  <span class="token punctuation">{</span>
    <span class="token keyword">int</span> curr_id <span class="token operator">=</span> <span class="token function">omp_get_thread_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> num_threads <span class="token operator">=</span> <span class="token function">omp_get_num_threads</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> start <span class="token operator">=</span> curr_id <span class="token operator">*</span> <span class="token punctuation">(</span>arr_size <span class="token operator">/</span> num_threads<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> end <span class="token operator">=</span> start <span class="token operator">+</span> <span class="token punctuation">(</span>arr_size <span class="token operator">/</span> num_threads<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">double</span> thread_sum <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> start<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> end<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
      thread_sum <span class="token operator">+</span><span class="token operator">=</span> x<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> y<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>curr_id <span class="token operator">==</span> num_threads <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> end <span class="token operator">&lt;</span> arr_size<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> end<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr_size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        thread_sum <span class="token operator">+</span><span class="token operator">=</span> x<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> y<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        
    <span class="token punctuation">}</span>
    <span class="token macro property">#<span class="token directive keyword">pragma</span> omp critical</span>
      global_sum <span class="token operator">+</span><span class="token operator">=</span> thread_sum<span class="token punctuation">;</span>    
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> global_sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// EDIT THIS FUNCTION PART 2</span>
<span class="token keyword">double</span> <span class="token function">dotp_reduction_optimized</span> <span class="token punctuation">(</span><span class="token keyword">double</span> <span class="token operator">*</span>x<span class="token punctuation">,</span> <span class="token keyword">double</span> <span class="token operator">*</span>y<span class="token punctuation">,</span> <span class="token keyword">int</span> arr_size<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword">double</span> global_sum <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>
  <span class="token macro property">#<span class="token directive keyword">pragma</span> omp parallel</span>
  <span class="token punctuation">{</span>
    <span class="token macro property">#<span class="token directive keyword">pragma</span> omp for reduction (+ : global_sum)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr_size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
      global_sum <span class="token operator">+</span><span class="token operator">=</span> x<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> y<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> global_sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">void</span> <span class="token function">v_add_for</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token operator">*</span> x<span class="token punctuation">,</span> <span class="token keyword">double</span><span class="token operator">*</span> y<span class="token punctuation">,</span> <span class="token keyword">double</span><span class="token operator">*</span> z<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token macro property">#<span class="token directive keyword">pragma</span> omp parallel</span>
    <span class="token punctuation">{</span>
    <span class="token macro property">#<span class="token directive keyword">pragma</span> omp for</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>ARRAY_SIZE<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            z<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> y<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">v_add_optimized_adjacent</span> <span class="token punctuation">(</span><span class="token keyword">double</span> <span class="token operator">*</span>x<span class="token punctuation">,</span> <span class="token keyword">double</span> <span class="token operator">*</span>y<span class="token punctuation">,</span> <span class="token keyword">double</span> <span class="token operator">*</span>z<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token macro property">#<span class="token directive keyword">pragma</span> omp parallel</span>
  <span class="token punctuation">{</span>
    <span class="token keyword">int</span> curr_id <span class="token operator">=</span> <span class="token function">omp_get_thread_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> num_threads <span class="token operator">=</span> <span class="token function">omp_get_num_threads</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> curr_id<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ARRAY_SIZE<span class="token punctuation">;</span> i <span class="token operator">+</span><span class="token operator">=</span> num_threads<span class="token punctuation">)</span>
    z<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> y<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// Edit this function (Method 2) </span>
<span class="token keyword">void</span> <span class="token function">v_add_optimized_chunks</span> <span class="token punctuation">(</span><span class="token keyword">double</span> <span class="token operator">*</span>x<span class="token punctuation">,</span> <span class="token keyword">double</span> <span class="token operator">*</span>y<span class="token punctuation">,</span> <span class="token keyword">double</span> <span class="token operator">*</span>z<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token macro property">#<span class="token directive keyword">pragma</span> omp parallel</span>
  <span class="token punctuation">{</span>
    <span class="token keyword">int</span> curr_id <span class="token operator">=</span> <span class="token function">omp_get_thread_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> num_threads <span class="token operator">=</span> <span class="token function">omp_get_num_threads</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> start <span class="token operator">=</span> curr_id <span class="token operator">*</span> <span class="token punctuation">(</span>ARRAY_SIZE <span class="token operator">/</span> num_threads<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> end <span class="token operator">=</span> start <span class="token operator">+</span> <span class="token punctuation">(</span>ARRAY_SIZE <span class="token operator">/</span> num_threads<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> start<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> end<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
      z<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> y<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>curr_id <span class="token operator">==</span> num_threads <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> end <span class="token operator">&lt;</span> ARRAY_SIZE<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> end<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ARRAY_SIZE<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
        z<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> y<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        
    <span class="token punctuation">}</span>    
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="Lecture-22-OS"><a href="#Lecture-22-OS" class="headerlink" title="Lecture 22: OS"></a>Lecture 22: OS</h1><p>• OS Boot Sequence and Operation</p>
<p>• Devices and I/O, interrupt and traps</p>
<p>I/O Example (<strong>polling</strong>) :mouse/processor</p>
<p><img src="/2022/06/13/CA期末总结/28.png" alt=""></p>
<p><strong>Interrupt-driven</strong> I/O:Disk</p>
<p><img src="/2022/06/13/CA期末总结/29.png" alt=""></p>
<h3 id="Polling-compare-with-Interrupt"><a href="#Polling-compare-with-Interrupt" class="headerlink" title="Polling compare with Interrupt"></a>Polling compare with Interrupt</h3><p>Polling: CPU periodically queries device to determine if they need attention<br>Interrupts: Each device signals to CPU that it wants to be serviced<br>The latter one is better since it utilizes CPU better</p>
<p>Traps/Interrupts/Exceptions</p>
<p>• Application, Multiprogramming/time-sharing</p>
<h1 id="Lecture-24-VM"><a href="#Lecture-24-VM" class="headerlink" title="Lecture 24: VM"></a>Lecture 24: VM</h1><ul>
<li>What do we need Virtual Memory for?</li>
</ul>
<p>Reason 1: Adding Disks to Hierarchy</p>
<p>Reason 2: Simplifying Memory for Apps</p>
<p>Reason 3: Protection Between Processes</p>
<p><img src="/2022/06/13/CA期末总结/30.png" alt=""></p>
<p>Pages advantages:</p>
<ul>
<li><p>run program longer than DRAM</p>
</li>
<li><p>no memory fragamentation</p>
</li>
</ul>
<p>TLB</p>
<p><img src="/2022/06/13/CA期末总结/31.png" alt=""></p>
<p>TLB check -&gt; page check -&gt; allocate new memory -&gt; update page -&gt; update TLB</p>
<p><img src="/2022/06/13/CA期末总结/32.png" alt=""></p>
<h3 id="Some-true-or-false-statement"><a href="#Some-true-or-false-statement" class="headerlink" title="Some true or false statement"></a>Some true or false statement</h3><ol>
<li>In a bare system without virtual memory, a program can modify any part of the memory. T</li>
<li>Both base and bound memory system and paged memory system can run programs with larger memory than DRAM. F</li>
<li>The TLB should be flushed after a context switch or when any new memory is allocated. F</li>
<li>Increasing page table size can always lead to reduction in page faults. F</li>
</ol>
<h1 id="Lecture-24-FGPA"><a href="#Lecture-24-FGPA" class="headerlink" title="Lecture 24: FGPA"></a>Lecture 24: FGPA</h1><h3 id="FPGA-application-devices"><a href="#FPGA-application-devices" class="headerlink" title="FPGA application/devices"></a>FPGA application/devices</h3><p>• Communication devices<br>Wired and wireless routers and switches<br>• Automotive applications<br>Braking systems, traction control, airbag release systems, and cruise-control<br>applications<br>• Aerospace applications<br>Flight-control systems, engine controllers, auto-pilots and passenger in-flight<br>entertainment systems<br>• Defense systems<br>Radar systems, fighter aircraft flight-control systems, radio systems, and missile guidance systems</p>
<h3 id="Embedded-System-Design"><a href="#Embedded-System-Design" class="headerlink" title="Embedded System Design"></a>Embedded System Design</h3><p>– Communication devices</p>
<p>• Wired and wireless routers and switches</p>
<p>– Automotive applications</p>
<p>• Braking systems, traction control, airbag release systems,</p>
<p>and cruise-control applications</p>
<p>– Aerospace applications</p>
<p>• Flight-control systems, engine controllers, auto-pilots and</p>
<p>passenger in-flight entertainment systems</p>
<p>– Defence systems</p>
<p>• Radar systems, fighter aircraft flight-control systems, radio</p>
<p>systems, and missile guidance systems</p>
<h3 id="some-statements"><a href="#some-statements" class="headerlink" title="some statements"></a>some statements</h3><ol>
<li><p>Embedded System are designed to perform predefined functions on certain platforms.</p>
</li>
<li><p>Embedded Systems usually provide limited functions and have fewer components than Computer Systems.</p>
</li>
<li><p>ASIC can not be changed once designed, but it is suitable<br>for high-volume mass production.</p>
</li>
<li><p><img src="/2022/06/13/CA期末总结/33.png" alt=""></p>
</li>
</ol>
<p>FPGA vs others</p>
<p><img src="/2022/06/13/CA期末总结/34.png" alt=""></p>
<h1 id="Lecture-25-WSC"><a href="#Lecture-25-WSC" class="headerlink" title="Lecture 25: WSC"></a>Lecture 25: WSC</h1><h4 id="Warehouse-Scale-Computing"><a href="#Warehouse-Scale-Computing" class="headerlink" title="Warehouse Scale Computing"></a>Warehouse Scale Computing</h4><p>• Request-level Parallelism</p>
<p>e.g. Web search</p>
<p>• Data-level Parallelism</p>
<p>Static web servers use request-level Parallelism while MapReduce is Data-level Parallelism.</p>
<p>Inefficient load balancing in a warehouse-scale computer may lead to higher<br>energy consumptions.</p>
<p>– MapReduce</p>
<p>– Hadoop, Spark</p>
<p>two parallelism strategies in WSC. : Request-level, Data-level</p>
<h4 id="Impact-on-WSC-software"><a href="#Impact-on-WSC-software" class="headerlink" title="Impact on WSC software"></a>Impact on WSC software</h4><p>• Latency, bandwidth à Performance</p>
<p>– Independent data set within an array</p>
<p>– Locality of access within server or rack</p>
<p>• High failure rate à Reliability, Availability</p>
<p>– Preventing failures is expensive</p>
<p>– Cope with failures gracefully</p>
<p>• Varying workloads à Scalability, Availability</p>
<p>– Scale up and down gracefully</p>
<p><img src="/2022/06/13/CA期末总结/35.png" alt=""></p>
<ul>
<li>MapReduce</li>
</ul>
<p>Warehouse-Scale Computers (WSCs)</p>
<p>– New class of computers</p>
<p>– Scalability, energy efficiency, high failure rate</p>
<p>• Cloud Computing</p>
<p>– Benefits of WSC computing for third parties</p>
<p>– “Elastic” pay as you go resource allocation</p>
<p>• Request-Level Parallelism</p>
<p>– High request volume, each largely independent of other</p>
<p>– Use replication for better request throughput, availability</p>
<p>• MapReduce Data Parallelism</p>
<p>– Map: Divide large data set into pieces for independent parallel processing</p>
<p>– Reduce: Combine and process intermediate results to obtain final result</p>
<p>– Hadoop, Spark</p>
<h1 id="Lecture-26-Advanced-Caches"><a href="#Lecture-26-Advanced-Caches" class="headerlink" title="Lecture 26: Advanced Caches"></a>Lecture 26: Advanced Caches</h1><p>Advanced Caches:</p>
<ul>
<li>MRU is LRU</li>
</ul>
<p><img src="/2022/06/13/CA期末总结/36.png" alt=""></p>
<ul>
<li><p>Reduce the size of LLC</p>
</li>
<li><p>LLC is not monolithic</p>
</li>
</ul>
<h1 id="Lecture-27-I-O-DMA-Disks-Networking"><a href="#Lecture-27-I-O-DMA-Disks-Networking" class="headerlink" title="Lecture 27: I/O: DMA, Disks, Networking"></a>Lecture 27: I/O: DMA, Disks, Networking</h1><p>• Direct Memory Access (DMA)</p>
<p>• Disks</p>
<p>• Networking</p>
<p>Shared vs. Switch-Based Networks</p>
<p>Software Protocol to Send and Receive</p>
<h3 id="PIO-DMA"><a href="#PIO-DMA" class="headerlink" title="PIO/DMA"></a>PIO/DMA</h3><p><a href="https://blog.csdn.net/amf12345/article/details/91450694" target="_blank" rel="noopener">PIO模式和DMA模式的区别_</a></p>
<p>硬盘和内存之间数据传送的两种方式：一是PIO模式，二是DNA模式</p>
<p>  PIO模式下通过CPU来控制硬盘和内存之间的数据传输，是一种通过CPU执行I/O端口指令来进行数据的读写的数据交换模式。</p>
<p> DMA模式下，CPU并不全程参与数据的传送工作，只需下达命令即可。DMA方式下有控制器和通道，CPU只须向DMA控制器下达指令，让DMA控制器来处理数据的传送，数据传送完毕再把信息反馈给CPU，这样就很大程度上减轻了CPU资源占有率。DMA模式与PIO模式的区别就在于，DMA模式不过分依赖CPU，可以大大节省系统资源，二者在传输速度上的差异并不十分明显。DMA模式又可以分为Single-Word DMA（单字节DMA）和Multi-Word DMA（多字节DMA）两种，其中所能达到的最大传输速率也只有16.6MB/s。</p>
<p>DMA 传送方式的优先级高于程序中断，两者的区别主要表现在对CPU的干扰程度不同。程序中断请求不但使CPU停下来，而且要CPU执行中断服务程序为中断请求服务，这个请求包括了对断点和现场的处理以及CPU与外设的传送，所以CPU付出了很多的代价；DMA请求仅仅使CPU暂停一下，不需要对断点和现场的处理，并且是由DMA控制外设与主存之间的数据传送，无需CPU的干预，DMA只是借用了一点CPU的时间而已。还有一个区别就是，CPU对这两个请求的响应时间不同，对程序中断请求一般都在执行完一条指令的时钟周期末尾响应，而对DMA的请求，由于考虑它的高效性，CPU在每条指令执行的各个阶段之中都可以让给DMA使用，是立即响应。　DMA主要由硬件来实现，此时高速外设和内存之间进行数据交换不通过CPU的控制，而是利用系统总线。DMA方式是I/O系统与主机交换数据的主要方式之一，另外还有程序查询方式和中断方式。</p>
<p><img src="/2022/06/13/CA期末总结/37.png" alt=""></p>
<p>• I/O gives computers their 5 senses</p>
<p>• I/O speed range is 100-million to one</p>
<p>• Polling vs. Interrupts</p>
<p>• DMA to avoid wasting CPU time on data transfers</p>
<p>• Disks for persistent storage, replaced by flash</p>
<p>• Networks: computer-to-computer I/O</p>
<p>– Protocol suites allow networking of heterogeneous</p>
<p>components. Abstraction!!!</p>
<h1 id="Lecture-28-Dependability-and-RAID"><a href="#Lecture-28-Dependability-and-RAID" class="headerlink" title="Lecture 28: Dependability and RAID"></a>Lecture 28: Dependability and RAID</h1><p>Dependability via Redundancy</p>
<p><img src="/2022/06/13/CA期末总结/38.png" alt=""></p>
<p><img src="/2022/06/13/CA期末总结/39.png" alt=""></p>
<ul>
<li>汉明码 Parity /Hamming Error Correction Code</li>
</ul>
<p><img src="/2022/06/13/CA期末总结/40.png" alt=""><a href="https://blog.csdn.net/weixin_61985100/article/details/123300540" target="_blank" rel="noopener">汉明码解释</a></p>
<h3 id="RAID"><a href="#RAID" class="headerlink" title="RAID"></a>RAID</h3><p><a href="https://blog.csdn.net/kid00013/article/details/123151776" target="_blank" rel="noopener">RAID磁盘阵列详解</a></p>
<p>1.什么是RAID磁盘阵列<br>RAID是英文Redundant Array of Independent Disks的缩写，中文翻译过来就是“独立冗余磁盘阵列”。简单的说，RAID是一种把多块独立的硬盘（物理硬盘）按不同的方式组合起来形成一个硬盘组（逻辑硬盘），从而提供比单个硬盘更高的存储性能和提供数据备份技术。利用这项技术，将数据切割成许多区段，分别存放在各个硬盘上。磁盘阵列还能利用同位检查（Parity Check）的观念，在数组中任意一个硬盘故障时，仍可读出数据，在数据重构时，将数据经计算后重新置入新硬盘中。</p>
<p>RAID功能实现</p>
<p>提高IO能力,磁盘并行读写</p>
<p>提高耐用性,磁盘冗余算法来实现</p>
<p>RAID实现的方式</p>
<p>外接式磁盘阵列：通过扩展卡提供适配能力</p>
<p>内接式RAID：主板集成RAID控制器，安装OS前在BIOS里配置</p>
<p>软件RAID：通过OS实现</p>
<p>2.RAID各种级别<br>2.1 RAID 0<br>RAID 0连续以位或字节为单位分割数据，并行读/写于多个磁盘上，因此具有很高的数据传输率，但它没有数据冗余<br>RAID 0只是单纯地提高性能，并没有为数据的可靠性提供保证，而且其中的一个磁盘失效将影响到所有数据<br>RAID 0不能应用于数据安全性要求高的场合</p>
<p>2.2 RAID 1<br>通过磁盘数据镜像实现数据冗余，在成对的独立磁盘上产生互为备份的数据<br>当原始数据繁忙时，可直接从镜像拷贝中读取数据，因此RAID1可以提高读取性能<br>RAID1是磁盘阵列中单位成本最高的，但提供了很高的数据安全性和可用性。当一个磁盘失效时，系统可以自动切换到镜像磁盘上读写，而不需要重组失效的数据</p>
<p>2.3 RAID 5<br>N（N&gt;=3）块盘组成阵列，一份数据产生N-1个条带，同时还有1份校验数据，共N份数据在N块盘上循环均衡存储<br>N块盘同时读写，读性能很高，但由于有校验机制的问题，写性能相对不高<br>（N-1）/N磁盘利用率<br>可靠性高，允许坏1块盘，不影响所有数据</p>
<p>. RAID 3 employs the strategy of byte-level striping with single parity disk, which is inefficient to detect errors.</p>
<p> 2.4 RAID 6<br>N（N&gt;=4）块盘组成阵列，（N-2）/N磁盘利用率<br>与RAID5相比，RAID6增加了第二个独立的奇偶校验信息块<br>两个独立的奇偶系统使用不同的算法，即使两块磁盘同时失效也不会影响数据的使用<br>相对于RAID5有更大的“写损失，因此写性能较差</p>
<p>2.5 RAID 10<br>RAID10其实是RAID 1+0</p>
<p>N（偶数，N&gt;=4）块盘两两镜像后，再组合成一个RAID0<br>N/2磁盘利用率<br>N/2块盘同时写入，N块盘同时读取<br>性能高，可靠性高</p>
<table>
<thead>
<tr>
<th>RAID等级</th>
<th>需要硬盘数量</th>
<th>容错能力</th>
<th>读写能力</th>
</tr>
</thead>
<tbody>
<tr>
<td>RAID 0</td>
<td>最少1个</td>
<td>无</td>
<td>读写性能高</td>
</tr>
<tr>
<td>RAID 1</td>
<td>N（偶数）</td>
<td>有</td>
<td>读性能高、写性能低</td>
</tr>
<tr>
<td>RAID 5</td>
<td>N&gt;=3</td>
<td>有（最多一个坏盘）</td>
<td>读写性能高</td>
</tr>
<tr>
<td>RAID 10</td>
<td>N&gt;=4(偶数)</td>
<td>有（每组最多坏一个盘）</td>
<td>读写性能高</td>
</tr>
</tbody>
</table>
<h1 id="Lecture-29-Security"><a href="#Lecture-29-Security" class="headerlink" title="Lecture 29: Security"></a>Lecture 29: Security</h1><h3 id="Heartbleed"><a href="#Heartbleed" class="headerlink" title="Heartbleed"></a>Heartbleed</h3><h3 id="Flush-Reload"><a href="#Flush-Reload" class="headerlink" title="Flush+Reload"></a>Flush+Reload</h3><p>Flash memory can be used as a disk cache to a magnetic hard disk.</p>
<h3 id="Meltdown"><a href="#Meltdown" class="headerlink" title="Meltdown"></a>Meltdown</h3><ul>
<li><p>covers： Virtual Memory; Protection Levels; Instruction Pipelining; Out-of</p>
<p>order Execution; Speculative Execution; CPU Caching.</p>
</li>
<li><p>Keywords: Cache, timing, speculative execution, memory paging, OS pages, data of another process (4 of those keywords are enough).<br>We want to read from OS pages that hold data of other processes. Those are in our<br>Virtual Memory space in order for the OS to process them quickly. But it is forbidden for our process to read them. If we try to read them the OS will check (with an ”if”) if we are allowed to read them and thus return with a page fault. But speculative execution will nevertheless cause those pages to be read (but the process doesn’t see the result).</p>
</li>
</ul>
<h3 id="Spectre"><a href="#Spectre" class="headerlink" title="Spectre"></a>Spectre</h3><p><img src="/2022/06/13/CA期末总结/41.png" alt=""></p>
<p>• Every part of a computer can be vulnerable</p>
<p>– Be vigilant and attentive in designing and</p>
<p>programming</p>
<p>• Security and privacy have different presences</p>
<p>– More than DoS, DDoS, virus, Trojan, ransomware,</p>
<p>spyware, and phishing emails</p>
<p>• The challenges for a computer architect</p>
<p>– To rule out any possibility of vulnerabilities</p>
<p>– To achieve both high performance and security</p>

            </div>

            <!-- Post Comments -->
            
    <!-- 使用 valine -->
<div id="comment">
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
<script>
    new Valine({
        el: '#comment' ,
        notify: false,
        verify: false,
        app_id: 'fUtpOauFo2JhcWoBFEnnppJW-gzGzoHsz',
        app_key: 'gFTwG42ACHuyrmwhMfgxcRQQ',
        placeholder: '留下你的评论吧~~',
        pageSize: '10',
        avatar: '',
        avatar_cdn: 'https://gravatar.loli.net/avatar/'
    });
</script>
</div>
<style>
   #comment{
        padding: 2pc;
    }
</style>


        </div>
        <!-- Copyright 版权 start -->
                <div id="copyright">
            <ul>
                <li>&copy;Powered By <a href="https://hexo.io/zh-cn/" style="border-bottom: none;">hexo</a></li>
                <li>Design: <a href="http://miccall.tech " style="border-bottom: none;">miccall</a></li>
            </ul>
            
            	<span id="busuanzi_container_site_pv">2022总访问量<span id="busuanzi_value_site_pv"></span>次</span>
			
        </div>
    </div>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/haruto.model.json"},"display":{"position":"left","width":125,"height":250},"mobile":{"show":false},"log":false});</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/haruto.model.json"},"display":{"position":"left","width":125,"height":250},"mobile":{"show":false},"log":false});</script></body>




 	

    </script>
</html>
